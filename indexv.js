(function(){var SKIP_ID="meta";var metaData={},metaArray={};Polymer("core-meta",{type:"default",alwaysPrepare:true,ready:function(){this.register(this.id)},get metaArray(){var t=this.type;if(!metaArray[t]){metaArray[t]=[]}return metaArray[t]},get metaData(){var t=this.type;if(!metaData[t]){metaData[t]={}}return metaData[t]},register:function(id,old){if(id&&id!==SKIP_ID){this.unregister(this,old);this.metaData[id]=this;this.metaArray.push(this)}},unregister:function(meta,id){delete this.metaData[id||meta.id];var i=this.metaArray.indexOf(meta);if(i>=0){this.metaArray.splice(i,1)}},get list(){return this.metaArray},byId:function(id){return this.metaData[id]}})})();Polymer("core-iconset",{src:"",width:0,icons:"",iconSize:24,offsetX:0,offsetY:0,type:"iconset",created:function(){this.iconMap={};this.iconNames=[];this.themes={}},ready:function(){if(this.src&&this.ownerDocument!==document){this.src=this.resolvePath(this.src,this.ownerDocument.baseURI)}this.super();this.updateThemes()},iconsChanged:function(){var ox=this.offsetX;var oy=this.offsetY;this.icons&&this.icons.split(/\s+/g).forEach(function(name,i){this.iconNames.push(name);this.iconMap[name]={offsetX:ox,offsetY:oy};if(ox+this.iconSize<this.width){ox+=this.iconSize}else{ox=this.offsetX;oy+=this.iconSize}},this)},updateThemes:function(){var ts=this.querySelectorAll("property[theme]");ts&&ts.array().forEach(function(t){this.themes[t.getAttribute("theme")]={offsetX:parseInt(t.getAttribute("offsetX"))||0,offsetY:parseInt(t.getAttribute("offsetY"))||0}},this)},getOffset:function(icon,theme){var i=this.iconMap[icon];if(!i){var n=this.iconNames[Number(icon)];i=this.iconMap[n]}var t=this.themes[theme];if(i&&t){return{offsetX:i.offsetX+t.offsetX,offsetY:i.offsetY+t.offsetY}}return i},applyIcon:function(element,icon,scale){var offset=this.getOffset(icon);scale=scale||1;if(element&&offset){var icon=element._icon||document.createElement("div");var style=icon.style;style.backgroundImage="url("+this.src+")";style.backgroundPosition=-offset.offsetX*scale+"px"+" "+(-offset.offsetY*scale+"px");style.backgroundSize=scale===1?"auto":this.width*scale+"px";if(icon.parentNode!==element){element.appendChild(icon)}return icon}}});(function(){var meta;Polymer("core-icon",{src:"",icon:"",alt:null,observe:{icon:"updateIcon",alt:"updateAlt"},defaultIconset:"icons",ready:function(){if(!meta){meta=document.createElement("core-iconset")}if(this.hasAttribute("aria-label")){if(!this.hasAttribute("role")){this.setAttribute("role","img")}return}this.updateAlt()},srcChanged:function(){var icon=this._icon||document.createElement("div");icon.textContent="";icon.setAttribute("fit","");icon.style.backgroundImage="url("+this.src+")";icon.style.backgroundPosition="center";icon.style.backgroundSize="100%";if(!icon.parentNode){this.appendChild(icon)}this._icon=icon},getIconset:function(name){return meta.byId(name||this.defaultIconset)},updateIcon:function(oldVal,newVal){if(!this.icon){this.updateAlt();return}var parts=String(this.icon).split(":");var icon=parts.pop();if(icon){var set=this.getIconset(parts.pop());if(set){this._icon=set.applyIcon(this,icon);if(this._icon){this._icon.setAttribute("fit","")}}}if(oldVal){if(oldVal.split(":").pop()==this.getAttribute("aria-label")){this.updateAlt()}}},updateAlt:function(){if(this.getAttribute("aria-hidden")){return}if(this.alt===""){this.setAttribute("aria-hidden","true");if(this.hasAttribute("role")){this.removeAttribute("role")}if(this.hasAttribute("aria-label")){this.removeAttribute("aria-label")}}else{this.setAttribute("aria-label",this.alt||this.icon.split(":").pop());if(!this.hasAttribute("role")){this.setAttribute("role","img")}if(this.hasAttribute("aria-hidden")){this.removeAttribute("aria-hidden")}}}})})();Polymer("core-iconset-svg",{iconSize:24,type:"iconset",created:function(){this._icons={}},ready:function(){this.super();this.updateIcons()},iconById:function(id){return this._icons[id]||(this._icons[id]=this.querySelector("#"+id))},cloneIcon:function(id){var icon=this.iconById(id);if(icon){var content=icon.cloneNode(true);content.removeAttribute("id");var svg=document.createElementNS("http://www.w3.org/2000/svg","svg");svg.setAttribute("viewBox","0 0 "+this.iconSize+" "+this.iconSize);svg.style.pointerEvents="none";svg.appendChild(content);return svg}},get iconNames(){if(!this._iconNames){this._iconNames=this.findIconNames()}return this._iconNames},findIconNames:function(){var icons=this.querySelectorAll("[id]").array();if(icons.length){return icons.map(function(n){return n.id})}},applyIcon:function(element,icon){var root=element;var old=root.querySelector("svg");if(old){old.remove()}var svg=this.cloneIcon(icon);if(!svg){return}svg.setAttribute("height","100%");svg.setAttribute("width","100%");svg.setAttribute("preserveAspectRatio","xMidYMid meet");svg.style.display="block";root.insertBefore(svg,root.firstElementChild);return svg},updateIcons:function(selector,method){selector=selector||"[icon]";method=method||"updateIcon";var deep=window.ShadowDOMPolyfill?"":"html /deep/ ";var i$=document.querySelectorAll(deep+selector);for(var i=0,e;e=i$[i];i++){if(e[method]){e[method].call(e)}}}});Polymer("ginalioti-config",{created:function(){this.config={debug:true,appName:"GinaLioti",recipesUrl:"http://ginalioti.com/wp/api/get_posts/",cacheTimeout:5e-4*36e5,recipeCourses:[],baseUrl:"#"}}});Polymer("core-localstorage",{name:"",value:null,useRaw:false,autoSaveDisabled:false,attached:function(){this.async("load")},valueChanged:function(){if(this.loaded&&!this.autoSaveDisabled){this.save()}},load:function(){var v=localStorage.getItem(this.name);if(this.useRaw){this.value=v}else{if(v===null){if(this.value!==null){this.save()}}else{try{v=JSON.parse(v)}catch(x){}this.value=v}}this.loaded=true;this.asyncFire("core-localstorage-load")},save:function(){var v=this.useRaw?this.value:JSON.stringify(this.value);localStorage.setItem(this.name,v)}});Polymer("core-transition",{type:"transition",go:function(node,state){this.complete(node)},setup:function(node){},teardown:function(node){},complete:function(node){this.fire("core-transitionend",null,node)},listenOnce:function(node,event,fn,args){var self=this;var listener=function(){fn.apply(self,args);node.removeEventListener(event,listener,false)};node.addEventListener(event,listener,false)}});Polymer("core-key-helper",{ENTER_KEY:13,ESCAPE_KEY:27});(function(){Polymer("core-overlay-layer",{publish:{opened:false},openedChanged:function(){this.classList.toggle("core-opened",this.opened)},addElement:function(element){if(!this.parentNode){document.querySelector("body").appendChild(this)}if(element.parentNode!==this){element.__contents=[];var ip$=element.querySelectorAll("content");for(var i=0,l=ip$.length,n;i<l&&(n=ip$[i]);i++){this.moveInsertedElements(n);this.cacheDomLocation(n);n.parentNode.removeChild(n);element.__contents.push(n)}this.cacheDomLocation(element);this.updateEventController(element);var h=this.makeHost();h.shadowRoot.appendChild(element);element.__host=h}},makeHost:function(){var h=document.createElement("overlay-host");h.createShadowRoot();this.appendChild(h);return h},moveInsertedElements:function(insertionPoint){var n$=insertionPoint.getDistributedNodes();var parent=insertionPoint.parentNode;insertionPoint.__contents=[];for(var i=0,l=n$.length,n;i<l&&(n=n$[i]);i++){this.cacheDomLocation(n);this.updateEventController(n);insertionPoint.__contents.push(n);parent.appendChild(n)}},updateEventController:function(element){element.eventController=this.element.findController(element)},removeElement:function(element){element.eventController=null;this.replaceElement(element);var h=element.__host;if(h){h.parentNode.removeChild(h)}},replaceElement:function(element){if(element.__contents){for(var i=0,c$=element.__contents,c;c=c$[i];i++){this.replaceElement(c)}element.__contents=null}if(element.__parentNode){var n=element.__nextElementSibling&&element.__nextElementSibling===element.__parentNode?element.__nextElementSibling:null;element.__parentNode.insertBefore(element,n)}},cacheDomLocation:function(element){element.__nextElementSibling=element.nextElementSibling;element.__parentNode=element.parentNode}})})();(function(){Polymer("core-overlay",{publish:{target:null,sizingTarget:null,opened:false,backdrop:false,layered:false,autoCloseDisabled:false,closeAttribute:"core-overlay-toggle",closeSelector:"",margin:0,transition:"core-transition-fade"},captureEventName:"tap",targetListeners:{tap:"tapHandler",keydown:"keydownHandler","core-transitionend":"transitionend"},registerCallback:function(element){this.layer=document.createElement("core-overlay-layer");this.keyHelper=document.createElement("core-key-helper");this.meta=document.createElement("core-transition");this.scrim=document.createElement("div");this.scrim.className="core-overlay-backdrop"},ready:function(){this.target=this.target||this;Platform.flush()},toggle:function(){this.opened=!this.opened},open:function(){this.opened=true},close:function(){this.opened=false},domReady:function(){this.ensureTargetSetup()},targetChanged:function(old){if(this.target){if(this.target.tabIndex<0){this.target.tabIndex=-1}this.addElementListenerList(this.target,this.targetListeners);this.target.style.display="none"}if(old){this.removeElementListenerList(old,this.targetListeners);var transition=this.getTransition();if(transition){transition.teardown(old)}else{old.style.position="";old.style.outline=""}old.style.display=""}},ensureTargetSetup:function(){if(!this.target||this.target.__overlaySetup){return}this.target.__overlaySetup=true;this.target.style.display="";var transition=this.getTransition();if(transition){transition.setup(this.target)}var computed=getComputedStyle(this.target);this.targetStyle={position:computed.position==="static"?"fixed":computed.position};if(!transition){this.target.style.position=this.targetStyle.position;this.target.style.outline="none"}this.target.style.display="none"},openedChanged:function(){this.transitioning=true;this.ensureTargetSetup();this.prepareRenderOpened();this.async(function(){this.target.style.display="";this.async("renderOpened")});this.fire("core-overlay-open",this.opened)},prepareRenderOpened:function(){if(this.opened){addOverlay(this)}this.prepareBackdrop();this.async(function(){if(!this.autoCloseDisabled){this.enableElementListener(this.opened,document,this.captureEventName,"captureHandler",true)}});this.enableElementListener(this.opened,window,"resize","resizeHandler");if(this.opened){forcePolyfillRender(this.target);if(!this._shouldPosition){this.target.style.position="absolute";var computed=getComputedStyle(this.target);var t=computed.top==="auto"&&computed.bottom==="auto";var l=computed.left==="auto"&&computed.right==="auto";this.target.style.position=this.targetStyle.position;this._shouldPosition={top:t,left:l}}this.prepareMeasure(this.target);this.updateTargetDimensions();this.finishMeasure(this.target);if(this.layered){this.layer.addElement(this.target);this.layer.opened=this.opened}}},renderOpened:function(){var transition=this.getTransition();if(transition){transition.go(this.target,{opened:this.opened})}else{this.transitionend()}this.renderBackdropOpened()},transitionend:function(e){if(e&&e.target!==this.target){return}this.transitioning=false;if(!this.opened){this.resetTargetDimensions();this.target.style.display="none";this.completeBackdrop();removeOverlay(this);if(this.layered){if(!currentOverlay()){this.layer.opened=this.opened}this.layer.removeElement(this.target)}}this.fire("core-overlay-"+(this.opened?"open":"close")+"-completed");this.applyFocus()},prepareBackdrop:function(){if(this.backdrop&&this.opened){if(!this.scrim.parentNode){document.body.appendChild(this.scrim);this.scrim.style.zIndex=currentOverlayZ()-1}trackBackdrop(this)}},renderBackdropOpened:function(){if(this.backdrop&&getBackdrops().length<2){this.scrim.classList.toggle("core-opened",this.opened)}},completeBackdrop:function(){if(this.backdrop){trackBackdrop(this);if(getBackdrops().length===0){this.scrim.parentNode.removeChild(this.scrim)}}},prepareMeasure:function(target){target.style.transition=target.style.webkitTransition="none";target.style.transform=target.style.webkitTransform="none";target.style.display=""},finishMeasure:function(target){target.style.display="none";target.style.transform=target.style.webkitTransform="";target.style.transition=target.style.webkitTransition=""},getTransition:function(){return this.meta.byId(this.transition)},getFocusNode:function(){return this.target.querySelector("[autofocus]")||this.target},applyFocus:function(){var focusNode=this.getFocusNode();if(this.opened){focusNode.focus()}else{focusNode.blur();if(currentOverlay()==this){console.warn("Current core-overlay is attempting to focus itself as next! (bug)")}else{focusOverlay()}}},updateTargetDimensions:function(){this.positionTarget();this.sizeTarget();if(this.layered){var rect=this.target.getBoundingClientRect();this.target.style.top=rect.top+"px";this.target.style.left=rect.left+"px";this.target.style.right=this.target.style.bottom="auto"}},sizeTarget:function(){var sizer=this.sizingTarget||this.target;var rect=sizer.getBoundingClientRect();var mt=rect.top===this.margin?this.margin:this.margin*2;var ml=rect.left===this.margin?this.margin:this.margin*2;var h=window.innerHeight-rect.top-mt;var w=window.innerWidth-rect.left-ml;sizer.style.maxHeight=h+"px";sizer.style.maxWidth=w+"px";sizer.style.boxSizing="border-box"},positionTarget:function(){if(this._shouldPosition.top){var t=Math.max((window.innerHeight-this.target.offsetHeight-this.margin*2)/2,this.margin);this.target.style.top=t+"px"}if(this._shouldPosition.left){var l=Math.max((window.innerWidth-this.target.offsetWidth-this.margin*2)/2,this.margin);this.target.style.left=l+"px"}},resetTargetDimensions:function(){this.target.style.top=this.target.style.left="";this.target.style.right=this.target.style.bottom="";this.target.style.width=this.target.style.height="";this._shouldPosition=null},tapHandler:function(e){if(e.target&&(this.closeSelector&&e.target.matches(this.closeSelector))||this.closeAttribute&&e.target.hasAttribute(this.closeAttribute)){this.toggle()}else{if(this.autoCloseJob){this.autoCloseJob.stop();this.autoCloseJob=null}}},captureHandler:function(e){if(!this.autoCloseDisabled&&currentOverlay()==this){this.autoCloseJob=this.job(this.autoCloseJob,function(){this.close()})}},keydownHandler:function(e){if(!this.autoCloseDisabled&&e.keyCode==this.keyHelper.ESCAPE_KEY){this.close();e.stopPropagation()}},resizeHandler:function(){this.updateTargetDimensions()},addElementListenerList:function(node,events){for(var i in events){this.addElementListener(node,i,events[i])}},removeElementListenerList:function(node,events){for(var i in events){this.removeElementListener(node,i,events[i])}},enableElementListener:function(enable,node,event,methodName,capture){if(enable){this.addElementListener(node,event,methodName,capture)}else{this.removeElementListener(node,event,methodName,capture)}},addElementListener:function(node,event,methodName,capture){var fn=this._makeBoundListener(methodName);if(node&&fn){Polymer.addEventListener(node,event,fn,capture)}},removeElementListener:function(node,event,methodName,capture){var fn=this._makeBoundListener(methodName);if(node&&fn){Polymer.removeEventListener(node,event,fn,capture)}},_makeBoundListener:function(methodName){var self=this,method=this[methodName];if(!method){return}var bound="_bound"+methodName;if(!this[bound]){this[bound]=function(e){method.call(self,e)}}return this[bound]}});function forcePolyfillRender(target){if(window.ShadowDOMPolyfill){target.offsetHeight}}var overlays=[];function addOverlay(overlay){var z0=currentOverlayZ();overlays.push(overlay);var z1=currentOverlayZ();if(z1<=z0){applyOverlayZ(overlay,z0)}}function removeOverlay(overlay){var i=overlays.indexOf(overlay);if(i>=0){overlays.splice(i,1);setZ(overlay,"")}}function applyOverlayZ(overlay,aboveZ){setZ(overlay.target,aboveZ+2)}function setZ(element,z){element.style.zIndex=z}function currentOverlay(){return overlays[overlays.length-1]}var DEFAULT_Z=10;function currentOverlayZ(){var z;var current=currentOverlay();if(current){var z1=window.getComputedStyle(current.target).zIndex;if(!isNaN(z1)){z=Number(z1)}}return z||DEFAULT_Z}function focusOverlay(){var current=currentOverlay();if(current&&!current.transitioning){current.applyFocus()}}var backdrops=[];function trackBackdrop(element){if(element.opened){backdrops.push(element)}else{var i=backdrops.indexOf(element);if(i>=0){backdrops.splice(i,1)}}}function getBackdrops(){return backdrops}})();Polymer("core-transition-css",{baseClass:"core-transition",openedClass:"core-opened",closedClass:"core-closed",completeEventName:"transitionend",publish:{transitionType:null},registerCallback:function(element){this.transitionStyle=element.templateContent().firstElementChild},fetchTemplate:function(){return null},go:function(node,state){if(state.opened!==undefined){this.transitionOpened(node,state.opened)}},setup:function(node){if(!node._hasTransitionStyle){if(!node.shadowRoot){node.createShadowRoot().innerHTML="<content></content>"}this.installScopeStyle(this.transitionStyle,"transition",node.shadowRoot);node._hasTransitionStyle=true}node.classList.add(this.baseClass);if(this.transitionType){node.classList.add(this.baseClass+"-"+this.transitionType)}},teardown:function(node){node.classList.remove(this.baseClass);if(this.transitionType){node.classList.remove(this.baseClass+"-"+this.transitionType)}},transitionOpened:function(node,opened){this.listenOnce(node,this.completeEventName,function(){node.classList.toggle(this.revealedClass,opened);if(!opened){node.classList.remove(this.closedClass)}this.complete(node)});node.classList.toggle(this.openedClass,opened);node.classList.toggle(this.closedClass,!opened)}});Polymer("core-media-query",{queryMatches:false,query:"",ready:function(){this._mqHandler=this.queryHandler.bind(this);this._mq=null},queryChanged:function(){if(this._mq){this._mq.removeListener(this._mqHandler)}var query=this.query;if(query[0]!=="("){query="("+this.query+")"}this._mq=window.matchMedia(query);this._mq.addListener(this._mqHandler);this.queryHandler(this._mq)},queryHandler:function(mq){this.queryMatches=mq.matches;this.asyncFire("core-media-change",mq)}});(function(){var currentToast;Polymer("paper-toast",{text:"",duration:3e3,opened:false,responsiveWidth:"480px",swipeDisabled:false,eventDelegates:{trackstart:"trackStart",track:"track",trackend:"trackEnd",transitionend:"transitionEnd"},narrowModeChanged:function(){this.classList.toggle("fit-bottom",this.narrowMode)},openedChanged:function(){if(this.opened){this.dismissJob=this.job(this.dismissJob,this.dismiss,this.duration)}else{this.dismissJob&&this.dismissJob.stop();this.dismiss()}},toggle:function(){this.opened=!this.opened},show:function(){if(currentToast){currentToast.dismiss()}currentToast=this;this.opened=true},dismiss:function(){if(this.dragging){this.shouldDismiss=true}else{this.opened=false;if(currentToast===this){currentToast=null}}},trackStart:function(e){if(!this.swipeDisabled){e.preventTap();this.vertical=e.yDirection;this.w=this.offsetWidth;this.h=this.offsetHeight;this.dragging=true;this.classList.add("dragging")}},track:function(e){if(this.dragging){var s=this.style;if(this.vertical){var y=e.dy;s.opacity=(this.h-Math.abs(y))/this.h;s.webkitTransform=s.transform="translate3d(0, "+y+"px, 0)"}else{var x=e.dx;s.opacity=(this.w-Math.abs(x))/this.w;s.webkitTransform=s.transform="translate3d("+x+"px, 0, 0)"}}},trackEnd:function(e){if(this.dragging){this.classList.remove("dragging");this.style.opacity=null;this.style.webkitTransform=this.style.transform=null;var cl=this.classList;if(this.vertical){cl.toggle("fade-out-down",e.yDirection===1&&e.dy>0);cl.toggle("fade-out-up",e.yDirection===-1&&e.dy<0)}else{cl.toggle("fade-out-right",e.xDirection===1&&e.dx>0);cl.toggle("fade-out-left",e.xDirection===-1&&e.dx<0)}this.dragging=false}},transitionEnd:function(){var cl=this.classList;if(cl.contains("fade-out-right")||cl.contains("fade-out-left")||cl.contains("fade-out-down")||cl.contains("fade-out-up")){this.dismiss();cl.remove("fade-out-right","fade-out-left","fade-out-down","fade-out-up")}else if(this.shouldDismiss){this.dismiss()}this.shouldDismiss=false}})})();Polymer("console-log-advanced",{message:"",ready:function(){this.sender=this.sender.toUpperCase()},messageChanged:function(previous,current){this.log(current)},log:function(message){log("_"+this.sender+"_ â€” "+message)}});Polymer("core-xhr",{request:function(options){var xhr=new XMLHttpRequest;var url=options.url;var method=options.method||"GET";var async=!options.sync;var params=this.toQueryString(options.params);if(params&&method=="GET"){url+=(url.indexOf("?")>0?"&":"?")+params}var xhrParams=this.isBodyMethod(method)?options.body||params:null;xhr.open(method,url,async);if(options.responseType){xhr.responseType=options.responseType}if(options.withCredentials){xhr.withCredentials=true}this.makeReadyStateHandler(xhr,options.callback);this.setRequestHeaders(xhr,options.headers);xhr.send(xhrParams);if(!async){xhr.onreadystatechange(xhr)}return xhr},toQueryString:function(params){var r=[];for(var n in params){var v=params[n];n=encodeURIComponent(n);r.push(v==null?n:n+"="+encodeURIComponent(v))}return r.join("&")},isBodyMethod:function(method){return this.bodyMethods[(method||"").toUpperCase()]},bodyMethods:{POST:1,PUT:1,DELETE:1},makeReadyStateHandler:function(xhr,callback){xhr.onreadystatechange=function(){if(xhr.readyState==4){callback&&callback.call(null,xhr.response,xhr)}}},setRequestHeaders:function(xhr,headers){if(headers){for(var name in headers){xhr.setRequestHeader(name,headers[name])}}}});Polymer("core-ajax",{url:"",handleAs:"",auto:false,params:"",response:null,method:"",headers:null,body:null,contentType:"application/x-www-form-urlencoded",withCredentials:false,xhrArgs:null,ready:function(){this.xhr=document.createElement("core-xhr")},receive:function(response,xhr){if(this.isSuccess(xhr)){this.processResponse(xhr)}else{this.error(xhr)}this.complete(xhr)},isSuccess:function(xhr){var status=xhr.status||0;return!status||status>=200&&status<300},processResponse:function(xhr){var response=this.evalResponse(xhr);this.response=response;this.fire("core-response",{response:response,xhr:xhr})},error:function(xhr){var response=xhr.status+": "+xhr.responseText;this.fire("core-error",{response:response,xhr:xhr})},complete:function(xhr){this.fire("core-complete",{response:xhr.status,xhr:xhr})},evalResponse:function(xhr){return this[(this.handleAs||"text")+"Handler"](xhr)},xmlHandler:function(xhr){return xhr.responseXML},textHandler:function(xhr){return xhr.responseText},jsonHandler:function(xhr){var r=xhr.responseText;try{return JSON.parse(r)}catch(x){console.warn("core-ajax caught an exception trying to parse response as JSON:");console.warn("url:",this.url);console.warn(x);return r}},documentHandler:function(xhr){return xhr.response},blobHandler:function(xhr){return xhr.response},arraybufferHandler:function(xhr){return xhr.response},urlChanged:function(){if(!this.handleAs){var ext=String(this.url).split(".").pop();switch(ext){case"json":this.handleAs="json";break}}this.autoGo()},paramsChanged:function(){this.autoGo()},autoChanged:function(){this.autoGo()},autoGo:function(){if(this.auto){this.goJob=this.job(this.goJob,this.go,0)}},go:function(){var args=this.xhrArgs||{};args.body=this.body||args.body;args.params=this.params||args.params;if(args.params&&typeof args.params=="string"){args.params=JSON.parse(args.params)}args.headers=this.headers||args.headers||{};if(args.headers&&typeof args.headers=="string"){args.headers=JSON.parse(args.headers)}var hasContentType=Object.keys(args.headers).some(function(header){return header.toLowerCase()==="content-type"});if(!hasContentType&&this.contentType){args.headers["Content-Type"]=this.contentType}if(this.handleAs==="arraybuffer"||this.handleAs==="blob"||this.handleAs==="document"){args.responseType=this.handleAs}args.withCredentials=this.withCredentials;args.callback=this.receive.bind(this);args.url=this.url;args.method=this.method;return args.url&&this.xhr.request(args)}});Polymer("recipe-service",{ready:function(){this.logService=this.$.logService},go:function(){this.log("connecting to: `"+this.config.recipesUrl+"`");this.$.ajax.go()},dataFetched:function(){var response=this.$.ajax.response;this.log("api response: `"+response.status+"`");if(response.status==="ok"){this.processApiData(response.posts)}else{this.fire("api-error",data.status)}},processApiData:function(data){var parseTime=Date.now();var _this=this;var rawRecipes=data;var parsedRecipes=[];if(!this.config.recipeCourses)this.config.recipeCourses=[];if(!this.ingredients)this.ingredients=[];_.each(rawRecipes,function(recipe){this.ingredients=_.union(this.ingredients,recipe.taxonomy_ingredient);var newRecipe={id:recipe.id,title:recipe.title,date:recipe.date,slug:recipe.slug,description1:recipe.content,description2:recipe.custom_fields.recipe_description?recipe.custom_fields.recipe_description[0]:null,relatedRecipes:recipe.custom_fields.recipe_notes?JSON.parse(recipe.custom_fields.recipe_notes):[],course:recipe.taxonomy_course[0].title,courses:_.pluck(recipe.taxonomy_course,"title"),photos:[recipe.thumbnail],tags:recipe.tags.length>0?recipe.tags:null,cookTime:recipe.custom_fields.recipe_cook_time?recipe.custom_fields.recipe_cook_time+" "+recipe.custom_fields.recipe_cook_time_text:null,passiveTime:recipe.custom_fields.recipe_passive_time?recipe.custom_fields.recipe_passive_time+" "+recipe.custom_fields.recipe_passive_time_text:null,prepTime:recipe.custom_fields.recipe_prep_time?recipe.custom_fields.recipe_prep_time+" "+recipe.custom_fields.recipe_prep_time_text:null,servings:recipe.custom_fields.recipe_servings_normalized[0]+" "+recipe.custom_fields.recipe_servings_type,instructions:_this.splitItemsIntoGroups(_this.parseRecipeDataStringToJSON(recipe.custom_fields.recipe_instructions[0])),ingredients:_this.splitItemsIntoGroups(_this.parseIngredients(_this.parseRecipeDataStringToJSON(recipe.custom_fields.recipe_ingredients[0]))),ingredientsEnumeration:_.pluck(recipe.taxonomy_ingredient,"title")};parsedRecipes.push(newRecipe);_this.config.recipeCourses=_.uniq(_.union(newRecipe.courses,_this.config.recipeCourses),true)});this.config.recipeCourses.unshift("All");console.log(parsedRecipes);this.recipes=parsedRecipes;this.status="success";this.syncTime=Date.now();this.log("parsed API data in: `"+(Date.now()-parseTime)+"ms`")},parseRecipeDataStringToJSON:function(dataString){dataString=dataString.replace(/\n/g,"");dataString=dataString.replace(/\r/g,"");dataString=dataString.replace(/i\:\d*;a\:\d*\:{s\:\d*\:\"description\";s\:\d*/g,'"description"');dataString=dataString.replace(/;s\:\d*\:\"group\";s\:\d*/g,', "group"');dataString=dataString.replace(/;s\:\d*\:\"image\";s\:\d*/g,', "image"');dataString=dataString.replace(/;}\"description/g,'}, { "description');dataString=dataString.replace(/i\:\d*;a\:\d*\:{s\:\d*\:\"group\";s\:\d*/g,'"group"');dataString=dataString.replace(/i\:\d*;a\:\d*\:{s\:\d*\:\"amount\";s\:\d*/g,'"amount"');dataString=dataString.replace(/;s\:\d*\:\"amount\";s\:\d*/g,', "amount"');dataString=dataString.replace(/;s\:\d*\:\"unit\";s\:\d*/g,', "unit"');dataString=dataString.replace(/;s\:\d*\:\"ingredient\";s\:\d*/g,', "ingredient"');dataString=dataString.replace(/;s\:\d*\:\"notes\";s\:\d*/g,', "notes"');dataString=dataString.replace(/;s\:\d*\:\"ingredient_id\";i\:\d*;s/g,', "ingredient_id"');dataString=dataString.replace(/\:\"amount_normalized\";(d|i)/g,', "amount_normalized"');dataString=dataString.replace(/;}\"group/g,'}, { "group');dataString=dataString.replace(/;}\"amount/g,'}, { "amount');dataString=dataString.replace(/;}}/g,"}]");dataString=dataString.replace(/a\:\d*\:/g,"[");if(dataString=="[{}"){dataString="[]"}return JSON.parse(dataString)},parseRelatedRecipes:function(recipes){return recipes},parseIngredients:function(ingredients){_.each(ingredients,function(ingredient){ingredient.slug=_.find(this.ingredients,function(ing){return ing?ing.title==ingredient.ingredient:false}).slug;if(ingredient.unit.indexOf("[s]")>-1){ingredient.unit=ingredient.unit.replace(/\[s\]/g,"");ingredient.ingredient=ingredient.ingredient+"s"}if(ingredient.notes==""){ingredient.notes=null}});return ingredients},splitItemsIntoGroups:function(items){var groups=_.uniq(_.pluck(items,"group"),true);if(groups.length>1){_.each(groups,function(group,index){groups[index]={group:group==""?"Main":group,items:_.filter(items,function(item){return item.group==group})}})}else{groups[0]={group:"Main",items:items}}return groups},log:function(message){if(this.config.debug===true&&this.logService){this.logService.log(message)}}});Polymer("ginalioti-datasource",{ready:function(){this.logService=this.$.logService},localStorageSyncTimeLoaded:function(){if(this.recipes&&!this.connected){this.connected=true;this.log("fetched recipes & ingredients from `localStorage`");var cacheAge=Date.now()-this.syncTime;if(cacheAge>this.config.cacheTimeout){if(this.config.debug){var cacheTimeout=new Date(this.config.cacheTimeout);var cacheTimeoutReadable=cacheTimeout.getUTCHours()+"h "+cacheTimeout.getUTCMinutes()+"m "+cacheTimeout.getUTCSeconds()+"s";var cacheAge=new Date(cacheAge);var cacheAgeReadable=cacheAge.getUTCHours()+"h "+cacheAge.getUTCMinutes()+"m "+cacheAge.getUTCSeconds()+"s";this.log("localStorage is old [age: _"+cacheAgeReadable+"_ / limit: _"+cacheTimeoutReadable+"_]")}this.$.recipeService.go()}else{this.log("localStorage is still fresh!")}}else{this.$.recipeService.go()}},statusChanged:function(){if(this.status=="success"){if(this.connected==true)this.updatedData=true;else this.connected=true;this.log("fetched recipes & ingredients from `API`")}},apiError:function(error){this.$.toast.show()},retry:function(){window.location.reload()},log:function(message){if(this.config.debug===true&&this.logService){this.logService.log(message)}}});Polymer("core-selection",{multi:false,ready:function(){this.clear()},clear:function(){this.selection=[]},getSelection:function(){return this.multi?this.selection:this.selection[0]},isSelected:function(item){return this.selection.indexOf(item)>=0},setItemSelected:function(item,isSelected){if(item!==undefined&&item!==null){if(isSelected){this.selection.push(item)}else{var i=this.selection.indexOf(item);if(i>=0){this.selection.splice(i,1)}}this.fire("core-select",{isSelected:isSelected,item:item})}},select:function(item){if(this.multi){this.toggle(item)}else if(this.getSelection()!==item){this.setItemSelected(this.getSelection(),false);this.setItemSelected(item,true)}},toggle:function(item){this.setItemSelected(item,!this.isSelected(item))}});Polymer("core-selector",{selected:null,multi:false,valueattr:"name",selectedClass:"core-selected",selectedProperty:"",selectedAttribute:"active",selectedItem:null,selectedModel:null,selectedIndex:-1,target:null,itemsSelector:"",activateEvent:"tap",notap:false,ready:function(){this.activateListener=this.activateHandler.bind(this);this.observer=new MutationObserver(this.updateSelected.bind(this));if(!this.target){this.target=this}},get items(){if(!this.target){return[]}var nodes=this.target!==this?this.itemsSelector?this.target.querySelectorAll(this.itemsSelector):this.target.children:this.$.items.getDistributedNodes();return Array.prototype.filter.call(nodes||[],function(n){return n&&n.localName!=="template"})},targetChanged:function(old){if(old){this.removeListener(old);this.observer.disconnect();this.clearSelection()}if(this.target){this.addListener(this.target);this.observer.observe(this.target,{childList:true});this.updateSelected()}},addListener:function(node){Polymer.addEventListener(node,this.activateEvent,this.activateListener)},removeListener:function(node){Polymer.removeEventListener(node,this.activateEvent,this.activateListener)},get selection(){return this.$.selection.getSelection()},selectedChanged:function(){this.updateSelected()},updateSelected:function(){this.validateSelected();
if(this.multi){this.clearSelection();this.selected&&this.selected.forEach(function(s){this.valueToSelection(s)},this)}else{this.valueToSelection(this.selected)}},validateSelected:function(){if(this.multi&&!Array.isArray(this.selected)&&this.selected!==null&&this.selected!==undefined){this.selected=[this.selected]}},clearSelection:function(){if(this.multi){this.selection.slice().forEach(function(s){this.$.selection.setItemSelected(s,false)},this)}else{this.$.selection.setItemSelected(this.selection,false)}this.selectedItem=null;this.$.selection.clear()},valueToSelection:function(value){var item=value===null||value===undefined?null:this.items[this.valueToIndex(value)];this.$.selection.select(item)},updateSelectedItem:function(){this.selectedItem=this.selection},selectedItemChanged:function(){if(this.selectedItem){var t=this.selectedItem.templateInstance;this.selectedModel=t?t.model:undefined}else{this.selectedModel=null}this.selectedIndex=this.selectedItem?parseInt(this.valueToIndex(this.selected)):-1},valueToIndex:function(value){for(var i=0,items=this.items,c;c=items[i];i++){if(this.valueForNode(c)==value){return i}}return value},valueForNode:function(node){return node[this.valueattr]||node.getAttribute(this.valueattr)},selectionSelect:function(e,detail){this.updateSelectedItem();if(detail.item){this.applySelection(detail.item,detail.isSelected)}},applySelection:function(item,isSelected){if(this.selectedClass){item.classList.toggle(this.selectedClass,isSelected)}if(this.selectedProperty){item[this.selectedProperty]=isSelected}if(this.selectedAttribute&&item.setAttribute){if(isSelected){item.setAttribute(this.selectedAttribute,"")}else{item.removeAttribute(this.selectedAttribute)}}},activateHandler:function(e){if(!this.notap){var i=this.findDistributedTarget(e.target,this.items);if(i>=0){var item=this.items[i];var s=this.valueForNode(item)||i;if(this.multi){if(this.selected){this.addRemoveSelected(s)}else{this.selected=[s]}}else{this.selected=s}this.asyncFire("core-activate",{item:item})}}},addRemoveSelected:function(value){var i=this.selected.indexOf(value);if(i>=0){this.selected.splice(i,1)}else{this.selected.push(value)}this.valueToSelection(value)},findDistributedTarget:function(target,nodes){while(target&&target!=this){var i=Array.prototype.indexOf.call(nodes,target);if(i>=0){return i}target=target.parentNode}},selectIndex:function(index){var item=this.items[index];if(item){this.selected=this.valueForNode(item)||index}},selectPrevious:function(){this.selectIndex(this.selectedIndex-1)},selectNext:function(){this.selectIndex(this.selectedIndex+1)}});(function(){window.CoreStyle=window.CoreStyle||{g:{},list:{},refMap:{}};Polymer("core-style",{publish:{ref:""},g:CoreStyle.g,refMap:CoreStyle.refMap,list:CoreStyle.list,ready:function(){if(this.id){this.provide()}else{this.registerRef(this.ref);if(!window.ShadowDOMPolyfill){this.require()}}},attached:function(){if(!this.id&&window.ShadowDOMPolyfill){this.require()}},provide:function(){this.register();if(this.textContent){this._completeProvide()}else{this.async(this._completeProvide)}},register:function(){var i=this.list[this.id];if(i){if(!Array.isArray(i)){this.list[this.id]=[i]}this.list[this.id].push(this)}else{this.list[this.id]=this}},_completeProvide:function(){this.createShadowRoot();this.domObserver=new MutationObserver(this.domModified.bind(this)).observe(this.shadowRoot,{subtree:true,characterData:true,childList:true});this.provideContent()},provideContent:function(){this.ensureTemplate();this.shadowRoot.textContent="";this.shadowRoot.appendChild(this.instanceTemplate(this.template));this.cssText=this.shadowRoot.textContent},ensureTemplate:function(){if(!this.template){this.template=this.querySelector("template:not([repeat]):not([bind])");if(!this.template){this.template=document.createElement("template");var n=this.firstChild;while(n){this.template.content.appendChild(n.cloneNode(true));n=n.nextSibling}}}},domModified:function(){this.cssText=this.shadowRoot.textContent;this.notify()},notify:function(){var s$=this.refMap[this.id];if(s$){for(var i=0,s;s=s$[i];i++){s.require()}}},registerRef:function(ref){this.refMap[this.ref]=this.refMap[this.ref]||[];this.refMap[this.ref].push(this)},applyRef:function(ref){this.ref=ref;this.registerRef(this.ref);this.require()},require:function(){var cssText=this.cssTextForRef(this.ref);if(cssText){this.ensureStyleElement();if(this.styleElement._cssText===cssText){return}this.styleElement._cssText=cssText;if(window.ShadowDOMPolyfill){this.styleElement.textContent=cssText;cssText=Platform.ShadowCSS.shimStyle(this.styleElement,this.getScopeSelector())}this.styleElement.textContent=cssText}},cssTextForRef:function(ref){var s$=this.byId(ref);var cssText="";if(s$){if(Array.isArray(s$)){var p=[];for(var i=0,l=s$.length,s;i<l&&(s=s$[i]);i++){p.push(s.cssText)}cssText=p.join("\n\n")}else{cssText=s$.cssText}}if(s$&&!cssText){console.warn("No styles provided for ref:",ref)}return cssText},byId:function(id){return this.list[id]},ensureStyleElement:function(){if(!this.styleElement){this.styleElement=window.ShadowDOMPolyfill?this.makeShimStyle():this.makeRootStyle()}if(!this.styleElement){console.warn(this.localName,"could not setup style.")}},makeRootStyle:function(){var style=document.createElement("style");this.appendChild(style);return style},makeShimStyle:function(){var host=this.findHost(this);if(host){var name=host.localName;var style=document.querySelector("style["+name+"="+this.ref+"]");if(!style){style=document.createElement("style");style.setAttribute(name,this.ref);document.head.appendChild(style)}return style}},getScopeSelector:function(){if(!this._scopeSelector){var selector="",host=this.findHost(this);if(host){var typeExtension=host.hasAttribute("is");var name=typeExtension?host.getAttribute("is"):host.localName;selector=Platform.ShadowCSS.makeScopeSelector(name,typeExtension)}this._scopeSelector=selector}return this._scopeSelector},findHost:function(node){while(node.parentNode){node=node.parentNode}return node.host||wrap(document.documentElement)},cycle:function(rgb,amount){if(rgb.match("#")){var o=this.hexToRgb(rgb);if(!o){return rgb}rgb="rgb("+o.r+","+o.b+","+o.g+")"}function cycleChannel(v){return Math.abs((Number(v)-amount)%255)}return rgb.replace(/rgb\(([^,]*),([^,]*),([^,]*)\)/,function(m,a,b,c){return"rgb("+cycleChannel(a)+","+cycleChannel(b)+", "+cycleChannel(c)+")"})},hexToRgb:function(hex){var result=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(hex);return result?{r:parseInt(result[1],16),g:parseInt(result[2],16),b:parseInt(result[3],16)}:null}})})();(function(){var transitions=CoreStyle.g.transitions=CoreStyle.g.transitions||{};transitions.duration="500ms";transitions.heroDelay="50ms";transitions.scaleDelay="500ms";transitions.cascadeFadeDuration="250ms";Polymer("core-transition-pages",{publish:{scopeClass:"",activeClass:"",transitionProperty:""},completed:false,prepare:function(scope,options){this.boundCompleteFn=this.complete.bind(this,scope);if(this.scopeClass){scope.classList.add(this.scopeClass)}},go:function(scope,options){this.completed=false;if(this.activeClass){scope.classList.add(this.activeClass)}scope.addEventListener("transitionend",this.boundCompleteFn,false)},setup:function(scope){if(!scope._pageTransitionStyles){scope._pageTransitionStyles={}}var name=this.calcStyleName();if(!scope._pageTransitionStyles[name]){this.installStyleInScope(scope,name);scope._pageTransitionStyles[name]=true}},calcStyleName:function(){return this.id||this.localName},installStyleInScope:function(scope,id){if(!scope.shadowRoot){scope.createShadowRoot().innerHTML="<content></content>"}var root=scope.shadowRoot;var scopeStyle=document.createElement("core-style");root.insertBefore(scopeStyle,root.firstChild);scopeStyle.applyRef(id)},complete:function(scope,e){if(e.propertyName!=="box-shadow"&&(!this.transitionProperty||e.propertyName.indexOf(this.transitionProperty)!==-1)){this.completed=true;this.fire("core-transitionend",this,scope)}},ensureComplete:function(scope){scope.removeEventListener("transitionend",this.boundCompleteFn,false);if(this.scopeClass){scope.classList.remove(this.scopeClass)}if(this.activeClass){scope.classList.remove(this.activeClass)}}})})();(function(){var webkitStyles="-webkit-transition"in document.documentElement.style;var TRANSITION_CSSNAME=webkitStyles?"-webkit-transition":"transition";var TRANSFORM_CSSNAME=webkitStyles?"-webkit-transform":"transform";var TRANSITION_NAME=webkitStyles?"webkitTransition":"transition";var TRANSFORM_NAME=webkitStyles?"webkitTransform":"transform";var hasShadowDOMPolyfill=window.ShadowDOMPolyfill;Polymer("hero-transition",{go:function(scope,options){var props=["border-radius","width","height",TRANSFORM_CSSNAME];var duration=options&&options.duration||(CoreStyle.g.transitions.heroDuration||CoreStyle.g.transitions.duration);scope._heroes.forEach(function(h){var d=h.h0.hasAttribute("hero-delayed")?CoreStyle.g.transitions.heroDelay:"";var wt=[];props.forEach(function(p){wt.push(p+" "+duration+" "+options.easing+" "+d)});h.h1.style[TRANSITION_NAME]=wt.join(", ");h.h1.style.borderRadius=h.r1;h.h1.style[TRANSFORM_NAME]=""});this.super(arguments);if(!scope._heroes.length){this.completed=true}},prepare:function(scope,options){this.super(arguments);var src=options.src,dst=options.dst;if(scope._heroes&&scope._heroes.length){this.ensureComplete(scope)}else{scope._heroes=[]}var ss="[hero]";var h$=this.findAllInShadows(src,ss);if(src.selectedItem){hs$=this.findAllInShadows(src.selectedItem,ss);hsa$=[];Array.prototype.forEach.call(hs$,function(hs){if(h$.indexOf(hs)===-1){hsa$.push(hs)}});h$=h$.concat(hsa$)}for(var i=0,h0;h0=h$[i];i++){var v=h0.getAttribute("hero-id");var ds='[hero][hero-id="'+v+'"]';var h1=this.findInShadows(dst,ds);if(!h1&&dst.selectedItem){h1=this.findInShadows(dst.selectedItem,ds)}if(v&&h1){var c0=getComputedStyle(h0);var c1=getComputedStyle(h1);var h={h0:h0,b0:h0.getBoundingClientRect(),r0:c0.borderRadius,h1:h1,b1:h1.getBoundingClientRect(),r1:c1.borderRadius};var dl=h.b0.left-h.b1.left;var dt=h.b0.top-h.b1.top;var sw=h.b0.width/h.b1.width;var sh=h.b0.height/h.b1.height;if(h.r0!==h.r1){h.h1.style.borderRadius=h.r0}h.h1.style[TRANSFORM_NAME]="translate("+dl+"px,"+dt+"px)"+" scale("+sw+","+sh+")";h.h1.style[TRANSFORM_NAME+"Origin"]="0 0";scope._heroes.push(h)}}},findInShadows:function(node,selector){return node.querySelector(selector)||(hasShadowDOMPolyfill?Platform.queryAllShadows(node,selector):node.querySelector("::shadow "+selector))},findAllInShadows:function(node,selector){if(hasShadowDOMPolyfill){var nodes=node.querySelectorAll(selector).array();var shadowNodes=Platform.queryAllShadows(node,selector,true);return nodes.concat(shadowNodes)}else{return node.querySelectorAll(selector).array().concat(node.shadowRoot?node.shadowRoot.querySelectorAll(selector).array():[])}},ensureComplete:function(scope){this.super(arguments);if(scope._heroes){scope._heroes.forEach(function(h){h.h1.style[TRANSITION_NAME]="";h.h1.style[TRANSFORM_NAME]=""});scope._heroes=[]}},complete:function(scope,e){var done=false;scope._heroes.forEach(function(h){if(h.h1===e.path[0]){done=true}});if(done){this.super(arguments)}}})})();Polymer("core-animated-pages",{eventDelegates:{"core-transitionend":"transitionEnd"},transitions:"",selected:0,lastSelected:null,registerCallback:function(){this.tmeta=document.createElement("core-transition")},created:function(){this._transitions=[];this.transitioning=[]},transitionsChanged:function(){this._transitions=this.transitions.split(" ")},_transitionsChanged:function(old){if(this._transitionElements){this._transitionElements.forEach(function(t){t.teardown(this)},this)}this._transitionElements=[];this._transitions.forEach(function(transitionId){var t=this.getTransition(transitionId);if(t){this._transitionElements.push(t);t.setup(this)}},this)},getTransition:function(transitionId){return this.tmeta.byId(transitionId)},selectionSelect:function(e,detail){this.updateSelectedItem()},applyTransition:function(src,dst){if(this.animating){this.cancelAsync(this.animating);this.animating=null}Platform.flush();if(this.transitioning.indexOf(src)===-1){this.transitioning.push(src)}if(this.transitioning.indexOf(dst)===-1){this.transitioning.push(dst)}src.setAttribute("animate","");dst.setAttribute("animate","");var options={src:src,dst:dst,easing:"cubic-bezier(0.4, 0, 0.2, 1)"};this.fire("core-animated-pages-transition-prepare");this._transitionElements.forEach(function(transition){transition.prepare(this,options)},this);src.offsetTop;this.applySelection(dst,true);this.applySelection(src,false);this._transitionElements.forEach(function(transition){transition.go(this,options)},this);if(!this._transitionElements.length){this.complete()}else{this.animating=this.async(this.complete.bind(this),null,5e3)}},complete:function(){if(this.animating){this.cancelAsync(this.animating);this.animating=null}this.transitioning.forEach(function(t){t.removeAttribute("animate")});this.transitioning=[];this._transitionElements.forEach(function(transition){transition.ensureComplete(this)},this);this.fire("core-animated-pages-transition-end")},transitionEnd:function(e){if(this.transitioning.length){var completed=true;this._transitionElements.forEach(function(transition){if(!transition.completed){completed=false}});if(completed){this.job("transitionWatch",function(){this.complete()},100)}}},selectedChanged:function(old){this.lastSelected=old;this.super(arguments)},selectedItemChanged:function(oldItem){this.super(arguments);if(!oldItem){this.applySelection(this.selectedItem,true);return}if(this.hasAttribute("no-transition")||!this._transitionElements||!this._transitionElements.length){this.applySelection(oldItem,false);this.applySelection(this.selectedItem,true);return}if(oldItem&&this.selectedItem){var self=this;Platform.flush();Platform.endOfMicrotask(function(){self.applyTransition(oldItem,self.selectedItem)})}}});Polymer("core-drawer-panel",{publish:{drawerWidth:"256px",responsiveWidth:"640px",selected:{value:null,reflect:true},defaultSelected:"main",narrow:{value:false,reflect:true},rightDrawer:false,disableSwipe:false},eventDelegates:{trackstart:"trackStart",trackx:"trackx",trackend:"trackEnd",down:"touchStart",up:"touchEnd"},transition:false,edgeSwipeSensitivity:15,peeking:false,dragging:false,hasTransform:true,hasWillChange:true,created:function(){this.hasTransform="transform"in this.style;this.hasWillChange="willChange"in this.style},domReady:function(){this.async(function(){this.transition=true})},togglePanel:function(){this.selected=this.selected==="main"?"drawer":"main"},openDrawer:function(){this.selected="drawer"},closeDrawer:function(){this.selected="main"},queryMatchesChanged:function(){if(this.queryMatches){this.selected=this.defaultSelected}this.narrow=this.queryMatches;this.setAttribute("touch-action",this.swipeAllowed()?"pan-y":"");this.fire("core-responsive-change",{narrow:this.narrow})},swipeAllowed:function(){return this.narrow&&!this.disableSwipe},startEdgePeek:function(){this.width=this.$.drawer.offsetWidth;this.moveDrawer(this.translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity));this.peeking=true},stopEdgePeak:function(){if(this.peeking){this.peeking=false;this.moveDrawer(null)}},touchStart:function(e){if(!this.dragging&&this.selected==="main"&&this.isEdgeTouch(e))this.startEdgePeek()},touchEnd:function(e){this.stopEdgePeak()},isEdgeTouch:function(e){return this.swipeAllowed()&&(this.rightDrawer?e.pageX>=this.offsetWidth-this.edgeSwipeSensitivity:e.pageX<=this.edgeSwipeSensitivity)},trackStart:function(e){if(this.swipeAllowed()){this.dragging=true;if(this.selected==="main")this.dragging=this.peeking||this.isEdgeTouch(e);if(this.dragging){this.width=this.$.drawer.offsetWidth;this.transition=false;e.preventTap()}}},translateXForDeltaX:function(deltaX){if(this.rightDrawer){return Math.max(0,this.selected==="main"?this.width+deltaX:deltaX)}else{return Math.min(0,this.selected==="main"?deltaX-this.width:deltaX)}},trackx:function(e){if(this.dragging){if(this.peeking){if(Math.abs(e.dx)<=this.edgeSwipeSensitivity)return;this.peeking=false}this.moveDrawer(this.translateXForDeltaX(e.dx))}},trackEnd:function(e){if(this.dragging){this.dragging=false;this.transition=true;this.moveDrawer(null);if(this.rightDrawer){this.selected=e.xDirection>0?"main":"drawer"}else{this.selected=e.xDirection>0?"drawer":"main"}}},transformForTranslateX:function(translateX){if(translateX===null)return"";return this.hasWillChange?"translateX("+translateX+"px)":"translate3d("+translateX+"px, 0, 0)"},moveDrawer:function(translateX){var s=this.$.drawer.style;if(this.hasTransform){s.transform=this.transformForTranslateX(translateX)}else{s.webkitTransform=this.transformForTranslateX(translateX)}}});Polymer("core-menu");(function(){var waveMaxRadius=150;function waveRadiusFn(touchDownMs,touchUpMs,anim){var touchDown=touchDownMs/1e3;var touchUp=touchUpMs/1e3;var totalElapsed=touchDown+touchUp;var ww=anim.width,hh=anim.height;var waveRadius=Math.min(Math.sqrt(ww*ww+hh*hh),waveMaxRadius)*1.1+5;var duration=1.1-.2*(waveRadius/waveMaxRadius);var tt=totalElapsed/duration;var size=waveRadius*(1-Math.pow(80,-tt));return Math.abs(size)}function waveOpacityFn(td,tu,anim){var touchDown=td/1e3;var touchUp=tu/1e3;var totalElapsed=touchDown+touchUp;if(tu<=0){return anim.initialOpacity}return Math.max(0,anim.initialOpacity-touchUp*anim.opacityDecayVelocity)}function waveOuterOpacityFn(td,tu,anim){var touchDown=td/1e3;var touchUp=tu/1e3;var outerOpacity=touchDown*.3;var waveOpacity=waveOpacityFn(td,tu,anim);return Math.max(0,Math.min(outerOpacity,waveOpacity))}function waveDidFinish(wave,radius,anim){var waveOpacity=waveOpacityFn(wave.tDown,wave.tUp,anim);if(waveOpacity<.01&&radius>=Math.min(wave.maxRadius,waveMaxRadius)){return true}return false}function waveAtMaximum(wave,radius,anim){var waveOpacity=waveOpacityFn(wave.tDown,wave.tUp,anim);if(waveOpacity>=anim.initialOpacity&&radius>=Math.min(wave.maxRadius,waveMaxRadius)){return true}return false}function drawRipple(ctx,x,y,radius,innerColor,outerColor){if(outerColor){ctx.fillStyle=outerColor;ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height)}ctx.beginPath();ctx.arc(x,y,radius,0,2*Math.PI,false);ctx.fillStyle=innerColor;ctx.fill()}function createWave(elem){var elementStyle=window.getComputedStyle(elem);var fgColor=elementStyle.color;var wave={waveColor:fgColor,maxRadius:0,isMouseDown:false,mouseDownStart:0,mouseUpStart:0,tDown:0,tUp:0};return wave}function removeWaveFromScope(scope,wave){if(scope.waves){var pos=scope.waves.indexOf(wave);scope.waves.splice(pos,1)}}var pow=Math.pow;var now=Date.now;if(window.performance&&performance.now){now=performance.now.bind(performance)}function cssColorWithAlpha(cssColor,alpha){var parts=cssColor.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);if(typeof alpha=="undefined"){alpha=1}if(!parts){return"rgba(255, 255, 255, "+alpha+")"}return"rgba("+parts[1]+", "+parts[2]+", "+parts[3]+", "+alpha+")"}function dist(p1,p2){return Math.sqrt(pow(p1.x-p2.x,2)+pow(p1.y-p2.y,2))}function distanceFromPointToFurthestCorner(point,size){var tl_d=dist(point,{x:0,y:0});var tr_d=dist(point,{x:size.w,y:0});var bl_d=dist(point,{x:0,y:size.h});var br_d=dist(point,{x:size.w,y:size.h});return Math.max(tl_d,tr_d,bl_d,br_d)}Polymer("paper-ripple",{initialOpacity:.25,opacityDecayVelocity:.8,backgroundFill:true,pixelDensity:2,eventDelegates:{down:"downAction",up:"upAction"},attached:function(){if(!this.$.canvas){var canvas=document.createElement("canvas");canvas.id="canvas";this.shadowRoot.appendChild(canvas);this.$.canvas=canvas}},ready:function(){this.waves=[]},setupCanvas:function(){this.$.canvas.setAttribute("width",this.$.canvas.clientWidth*this.pixelDensity+"px");this.$.canvas.setAttribute("height",this.$.canvas.clientHeight*this.pixelDensity+"px");var ctx=this.$.canvas.getContext("2d");ctx.scale(this.pixelDensity,this.pixelDensity);if(!this._loop){this._loop=this.animate.bind(this,ctx)}},downAction:function(e){this.setupCanvas();var wave=createWave(this.$.canvas);this.cancelled=false;wave.isMouseDown=true;wave.tDown=0;wave.tUp=0;wave.mouseUpStart=0;wave.mouseDownStart=now();var width=this.$.canvas.width/2;var height=this.$.canvas.height/2;var rect=this.getBoundingClientRect();var touchX=e.x-rect.left;var touchY=e.y-rect.top;wave.startPosition={x:touchX,y:touchY};if(this.classList.contains("recenteringTouch")){wave.endPosition={x:width/2,y:height/2};wave.slideDistance=dist(wave.startPosition,wave.endPosition)}wave.containerSize=Math.max(width,height);wave.maxRadius=distanceFromPointToFurthestCorner(wave.startPosition,{w:width,h:height});this.waves.push(wave);requestAnimationFrame(this._loop)},upAction:function(){for(var i=0;i<this.waves.length;i++){var wave=this.waves[i];if(wave.isMouseDown){wave.isMouseDown=false;wave.mouseUpStart=now();wave.mouseDownStart=0;wave.tUp=0;break}}this._loop&&requestAnimationFrame(this._loop)},cancel:function(){this.cancelled=true},animate:function(ctx){var shouldRenderNextFrame=false;ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);var deleteTheseWaves=[];var longestTouchDownDuration=0;var longestTouchUpDuration=0;var lastWaveColor=null;var anim={initialOpacity:this.initialOpacity,opacityDecayVelocity:this.opacityDecayVelocity,height:ctx.canvas.height,width:ctx.canvas.width};for(var i=0;i<this.waves.length;i++){var wave=this.waves[i];if(wave.mouseDownStart>0){wave.tDown=now()-wave.mouseDownStart}if(wave.mouseUpStart>0){wave.tUp=now()-wave.mouseUpStart}var tUp=wave.tUp;var tDown=wave.tDown;longestTouchDownDuration=Math.max(longestTouchDownDuration,tDown);longestTouchUpDuration=Math.max(longestTouchUpDuration,tUp);var radius=waveRadiusFn(tDown,tUp,anim);var waveAlpha=waveOpacityFn(tDown,tUp,anim);var waveColor=cssColorWithAlpha(wave.waveColor,waveAlpha);lastWaveColor=wave.waveColor;var x=wave.startPosition.x;var y=wave.startPosition.y;if(wave.endPosition){var translateFraction=Math.min(1,radius/wave.containerSize*2/Math.sqrt(2));x+=translateFraction*(wave.endPosition.x-wave.startPosition.x);y+=translateFraction*(wave.endPosition.y-wave.startPosition.y)}var bgFillColor=null;if(this.backgroundFill){var bgFillAlpha=waveOuterOpacityFn(tDown,tUp,anim);bgFillColor=cssColorWithAlpha(wave.waveColor,bgFillAlpha)}drawRipple(ctx,x,y,radius,waveColor,bgFillColor);var maximumWave=waveAtMaximum(wave,radius,anim);var waveDissipated=waveDidFinish(wave,radius,anim);var shouldKeepWave=!waveDissipated||maximumWave;var shouldRenderWaveAgain=!waveDissipated&&!maximumWave;shouldRenderNextFrame=shouldRenderNextFrame||shouldRenderWaveAgain;if(!shouldKeepWave||this.cancelled){deleteTheseWaves.push(wave)}}if(shouldRenderNextFrame){requestAnimationFrame(this._loop)}for(var i=0;i<deleteTheseWaves.length;++i){var wave=deleteTheseWaves[i];removeWaveFromScope(this,wave)}if(!this.waves.length){ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height);this._loop=null}}})})();Polymer("paper-item",{publish:{label:"",iconSrc:"",icon:""},eventDelegates:{down:"downAction",up:"upAction"},downAction:function(e){this.$.ripple.downAction(e)},upAction:function(e){this.$.ripple.upAction(e)}});(function(){var importDoc=document.currentScript.ownerDocument;var LoadingWave=Object.create(HTMLElement.prototype);LoadingWave.attachedCallback=function(){var background="#FFF";if(this.attributes.background){background=this.attributes.background.value}var root=this.createShadowRoot();var t=importDoc.querySelector("#loadingTemplate");var clone=document.importNode(t.content,true);clone.querySelector(".loading-full").style.background=background;root.appendChild(clone)};var loading=document.registerElement("loading-wave",{prototype:LoadingWave})})();Polymer("facebook-button",{action:"like",colorscheme:"light",font:"arial",href:"http://customelements.io",layout:"button_count",showfaces:"false",height:"20",width:"120"});Polymer("animated-pages-router",{currentPage:"",currentRoute:null,ready:function(){this.logService=this.$.logService;this.log("ready");if(this.autoInit){this.log("selfInit");this.init()}},init:function(){this.log("init");if(this.pages&&this.routes){this.navigate()}this.urlChangeHandler=this.navigate.bind(this);window.onpopstate=function(event){this.log("popstate detected");this.urlChangeHandler()}.bind(this)},navigate:function(){var path=this.parseUrlPath(window.location.href);var matchingRoute=null;this.log("navigate â€“ trying : `"+path+"`");this.routes.forEach(function(route){if(this.testRoute(route.slug,path)){matchingRoute=route;this.urlArguments=this.routeArguments(route.slug,path,window.location.href,false);this.currentPage=this.pages.selected=route.page}}.bind(this));if(matchingRoute)this.log("navigate â€“ matched: `"+matchingRoute.slug+"` [title: _"+matchingRoute.title+"_, page: _"+matchingRoute.page+"_]");else this.log("navigate â€“ no match found")},routePage:function(page,object){this.log("routing to page `"+page+"`");if(this.currentPage==page&&this.selected!="splash")return;var route=_.find(this.routes,function(route){return route.page==page});if(route){if(page=="recipe"){route.title=object.title;route.slug=object.slug}window.history.pushState(this.appState,route.title,route.slug);this.currentPage=this.pages.selected=page}},parseUrlPath:function(url){var splitUrl=url.split("/");var relativeUri="/"+splitUrl.splice(3,splitUrl.length-3).join("/");var path=relativeUri.split(/[\?#]/)[0];var hashIndex=relativeUri.indexOf("#");if(hashIndex!==-1){var hash=relativeUri.substring(hashIndex).split("?")[0];if(hash.substring(0,2)==="#/"){path=hash.substring(1)}else if(hash.substring(0,3)==="#!/"){path=hash.substring(2)}}return path},testRoute:function(routePath,urlPath,trailingSlashOption,isRegExp){if(trailingSlashOption==="ignore"){if(urlPath.slice(-1)==="/"){urlPath=urlPath.slice(0,-1)}if(routePath.slice(-1)==="/"&&!isRegExp){routePath=routePath.slice(0,-1)}}if(isRegExp){if(routePath.charAt(0)!=="/"){return false}routePath=routePath.slice(1);var options="";if(routePath.slice(-1)==="/"){routePath=routePath.slice(0,-1)}else if(routePath.slice(-2)==="/i"){routePath=routePath.slice(0,-2);options="i"}else{return false}return new RegExp(routePath,options).test(urlPath)}if(routePath===urlPath||routePath==="*"){return true}if(routePath.indexOf("*")===-1&&routePath.indexOf(":")===-1){return false}var urlPathSegments=urlPath.split("/");var routePathSegments=routePath.split("/");if(urlPathSegments.length!==routePathSegments.length){return false}for(var i=0;i<routePathSegments.length;i++){var routeSegment=routePathSegments[i];if(routeSegment!==urlPathSegments[i]&&routeSegment!=="*"&&routeSegment.charAt(0)!==":"){return false}}return true},routeArguments:function routeArguments(routePath,urlPath,url,isRegExp){var args={};var urlPathSegments=urlPath.split("/");if(!isRegExp){var routePathSegments=routePath.split("/");for(var index=0;index<routePathSegments.length;index++){var routeSegment=routePathSegments[index];if(routeSegment.charAt(0)===":"){args[routeSegment.substring(1)]=urlPathSegments[index]}}}var searchIndex=url.indexOf("?");var search="";if(searchIndex!==-1){search=url.substring(searchIndex);var hashIndex=search.indexOf("#");if(hashIndex!==-1){search=search.substring(0,hashIndex)}}var hashPathIndex=url.indexOf("#/");var hashBangPathIndex=url.indexOf("#!/");if(hashPathIndex!==-1||hashBangPathIndex!==-1){var hash="";if(hashPathIndex!==-1){hash=url.substring(hashPathIndex)}else{hash=url.substring(hashBangPathIndex)}searchIndex=hash.indexOf("?");if(searchIndex!==-1){search=hash.substring(searchIndex)}}var queryParameters=search.substring(1).split("&");if(queryParameters.length===1&&queryParameters[0]===""){queryParameters=[]}for(var i=0;i<queryParameters.length;i++){var queryParameter=queryParameters[i];var queryParameterParts=queryParameter.split("=");args[queryParameterParts[0]]=queryParameterParts.splice(1,queryParameterParts.length-1).join("=")}for(var arg in args){var value=args[arg];if(value==="true"){args[arg]=true}else if(value==="false"){args[arg]=false}else if(!isNaN(value)&&value!==""){args[arg]=+value}else{args[arg]=decodeURIComponent(value)}}return args},log:function(message){if(this.debug===true&&this.logService){this.logService.log(message)}}});Polymer("core-header-panel",{publish:{mode:{value:"",reflect:true},tallClass:"tall",shadow:false},domReady:function(){this.async("scroll")},modeChanged:function(){this.scroll()},get header(){return this.$.headerContent.getDistributedNodes()[0]},get scroller(){return this.mode==="scroll"?this.$.outerContainer:this.$.mainContainer},scroll:function(){var shadowMode={waterfall:1,"waterfall-tall":1};var noShadow={seamed:1,cover:1,scroll:1};var tallMode={"waterfall-tall":1};var main=this.$.mainContainer;var header=this.header;var sTop=main.scrollTop;var atTop=sTop===0;if(header){this.$.dropShadow.classList.toggle("hidden",!this.shadow&&(atTop&&shadowMode[this.mode]||noShadow[this.mode]));if(tallMode[this.mode]){header.classList.toggle(this.tallClass,atTop||main.scrollHeight<this.$.outerContainer.offsetHeight)}header.classList.toggle("animate",tallMode[this.mode])}this.fire("scroll",{target:this.scroller},this,false)}});Polymer("core-toolbar");Polymer("paper-tab",{noink:false});Polymer("paper-tabs",{noink:false,nobar:false,activateEvent:"down",nostretch:false,selectedIndexChanged:function(old){var s=this.$.selectionBar.style;if(!this.selectedItem){s.width=0;s.left=0;return}var w=100/this.items.length;if(this.nostretch||old===null||old===-1){s.width=w+"%";s.left=this.selectedIndex*w+"%";return}var m=5;this.$.selectionBar.classList.add("expand");if(old<this.selectedIndex){s.width=w+w*(this.selectedIndex-old)-m+"%";this._transitionCounter=1}else{s.width=w+w*(old-this.selectedIndex)-m+"%";s.left=this.selectedIndex*w+m+"%";this._transitionCounter=2}},barTransitionEnd:function(e){this._transitionCounter--;var cl=this.$.selectionBar.classList;if(cl.contains("expand")&&!this._transitionCounter){cl.remove("expand");cl.add("contract");var s=this.$.selectionBar.style;var w=100/this.items.length;s.width=w+"%";s.left=this.selectedIndex*w+"%"}else if(cl.contains("contract")){cl.remove("contract")}}});Polymer("core-input",{publish:{placeholder:"",disabled:false,readonly:false,autofocus:false,multiline:false,rows:"fit",inputValue:"",value:"",type:"text",required:false,pattern:".*",min:null,max:null,step:null,maxlength:null,invalid:false,validateImmediately:true},ready:function(){this.handleTabindex(this.getAttribute("tabindex"))},disabledChanged:function(){if(this.disabled){this.setAttribute("aria-disabled",true)}else{this.removeAttribute("aria-disabled")}},invalidChanged:function(){this.classList.toggle("invalid",this.invalid);this.fire("input-"+(this.invalid?"invalid":"valid"),{value:this.inputValue})},inputValueChanged:function(){if(this.validateImmediately){this.updateValidity_()}},valueChanged:function(){this.inputValue=this.value},requiredChanged:function(){if(this.validateImmediately){this.updateValidity_()}},attributeChanged:function(attr,oldVal,curVal){if(attr==="tabindex"){this.handleTabindex(curVal)}},handleTabindex:function(tabindex){if(tabindex>0){this.$.input.setAttribute("tabindex",-1)}else{this.$.input.removeAttribute("tabindex")}},commit:function(){this.value=this.inputValue},updateValidity_:function(){if(this.$.input.willValidate){this.invalid=!this.$.input.validity.valid}},keypressAction:function(e){if(this.type!=="number"){return}var c=String.fromCharCode(e.charCode);if(!c.match(/[\d-\.e]/)){e.preventDefault()}},inputChangeAction:function(){this.commit();if(!window.ShadowDOMPolyfill){this.fire("change",null,this)}},focusAction:function(e){if(this.getAttribute("tabindex")>0){this.$.input.focus()}},inputFocusAction:function(e){if(window.ShadowDOMPolyfill){this.fire("focus",null,this,false)}},inputBlurAction:function(){if(window.ShadowDOMPolyfill){this.fire("blur",null,this,false)}},blur:function(){this.$.input.blur()},click:function(){this.$.input.click()},focus:function(){this.$.input.focus()},select:function(){this.$.input.focus()},setSelectionRange:function(selectionStart,selectionEnd,selectionDirection){this.$.input.setSelectionRange(selectionStart,selectionEnd,selectionDirection)
},setRangeText:function(replacement,start,end,selectMode){if(!this.multiline){this.$.input.setRangeText(replacement,start,end,selectMode)}},stepDown:function(n){if(!this.multiline){this.$.input.stepDown(n)}},stepUp:function(n){if(!this.multiline){this.$.input.stepUp(n)}},get willValidate(){return this.$.input.willValidate},get validity(){return this.$.input.validity},get validationMessage(){return this.$.input.validationMessage},checkValidity:function(){var r=this.$.input.checkValidity();this.updateValidity_();return r},setCustomValidity:function(message){this.$.input.setCustomValidity(message);this.updateValidity_()}});(function(){var paperInput=CoreStyle.g.paperInput=CoreStyle.g.paperInput||{};paperInput.focusedColor="#4059a9";paperInput.invalidColor="#d34336";Polymer("paper-input",{publish:{label:"",floatingLabel:false,maxRows:0,error:"",focused:{value:false,reflect:true}},get inputValueForMirror(){var tokens=this.inputValue?String(this.inputValue).replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""];if(this.multiline){if(this.maxRows&&tokens.length>this.maxRows){tokens=tokens.slice(0,this.maxRows)}while(this.rows&&tokens.length<this.rows){tokens.push("")}}return tokens.join("<br>")+"&nbsp;"},get inputHasValue(){return this.inputValue||this.type==="number"&&!this.validity.valid},syncInputValueToMirror:function(){this.$.mirror.innerHTML=this.inputValueForMirror},ready:function(){this.syncInputValueToMirror()},prepareLabelTransform:function(){var toRect=this.$.floatedLabelText.getBoundingClientRect();var fromRect=this.$.labelText.getBoundingClientRect();if(toRect.width!==0){var sy=toRect.height/fromRect.height;this.$.labelText.cachedTransform="scale3d("+toRect.width/fromRect.width+","+sy+",1) "+"translate3d(0,"+(toRect.top-fromRect.top)/sy+"px,0)"}},animateFloatingLabel:function(){if(!this.floatingLabel||this.labelAnimated){return}if(!this.$.labelText.cachedTransform){this.prepareLabelTransform()}if(!this.$.labelText.cachedTransform){return}this.labelAnimated=true;this.async(function(){this.transitionEndAction()},null,250);if(this.inputHasValue){this.$.labelText.style.webkitTransform=this.$.labelText.cachedTransform;this.$.labelText.style.transform=this.$.labelText.cachedTransform}else{if(!this.$.labelText.style.webkitTransform&&!this.$.labelText.style.transform){this.$.labelText.style.webkitTransform=this.$.labelText.cachedTransform;this.$.labelText.style.transform=this.$.labelText.cachedTransform;this.$.labelText.offsetTop}this.$.labelText.style.webkitTransform="";this.$.labelText.style.transform=""}},inputValueChanged:function(old){this.super();this.syncInputValueToMirror();if(old&&!this.inputValue||!old&&this.inputValue){this.animateFloatingLabel()}},placeholderChanged:function(){this.label=this.placeholder},inputFocusAction:function(){this.super(arguments);this.focused=true},inputBlurAction:function(e){this.super(arguments);this.focused=false},downAction:function(e){if(this.disabled){return}if(this.focused){return}var rect=this.$.underline.getBoundingClientRect();var right=e.x-rect.left;this.$.focusedUnderline.style.mozTransformOrigin=right+"px";this.$.focusedUnderline.style.webkitTransformOrigin=right+"px ";this.$.focusedUnderline.style.transformOriginX=right+"px";this.underlineAnimated=true;if(!this.inputHasValue){this.cursorAnimated=true}this.async(function(){this.transitionEndAction()},null,250)},keydownAction:function(){this.super();if(this.type==="number"){var valid=!this.inputValue&&this.validity.valid;this.async(function(){if(valid!==(!this.inputValue&&this.validity.valid)){this.animateFloatingLabel()}})}},transitionEndAction:function(){this.underlineAnimated=false;this.cursorAnimated=false;this.labelAnimated=false}})})();Polymer("paper-focusable",{publish:{active:{value:false,reflect:true},focused:{value:false,reflect:true},pressed:{value:false,reflect:true},disabled:{value:false,reflect:true},isToggle:{value:false,reflect:false}},disabledChanged:function(){if(this.disabled){this.removeAttribute("tabindex")}else{this.setAttribute("tabindex",0)}},downAction:function(){this.pressed=true;this.focused=false;if(this.isToggle){this.active=!this.active}else{this.active=true}},contextMenuAction:function(e){this.upAction(e);this.focusAction()},upAction:function(){this.pressed=false;if(!this.isToggle){this.active=false}},focusAction:function(){if(!this.pressed){this.focused=true}},blurAction:function(){this.focused=false}});Polymer("paper-shadow",{publish:{target:{value:null,reflect:true},z:{value:1,reflect:true},animated:{value:false,reflect:true},hasPosition:false},registerCallback:function(polymerElement){var template=polymerElement.querySelector("template");this._style=template.content.querySelector("style");this._style.removeAttribute("no-shim")},fetchTemplate:function(){return null},attached:function(){if(!this.target){if(!this.parentElement&&this.parentNode.host){this.target=this.parentNode.host}else if(this.parentElement&&(window.ShadowDOMPolyfill?this.parentElement!==wrap(document.body):this.parentElement!==document.body)){this.target=this.parentElement}}},targetChanged:function(old){if(old){this.removeShadow(old)}if(this.target){this.addShadow(this.target)}},zChanged:function(old){if(this.target&&this.target._paperShadow){var shadow=this.target._paperShadow;["top","bottom"].forEach(function(s){shadow[s].classList.remove("paper-shadow-"+s+"-z-"+old);shadow[s].classList.add("paper-shadow-"+s+"-z-"+this.z)}.bind(this))}},animatedChanged:function(){if(this.target&&this.target._paperShadow){var shadow=this.target._paperShadow;["top","bottom"].forEach(function(s){if(this.animated){shadow[s].classList.add("paper-shadow-animated")}else{shadow[s].classList.remove("paper-shadow-animated")}}.bind(this))}},addShadow:function(node){if(node._paperShadow){return}if(!node._hasShadowStyle){if(!node.shadowRoot){node.createShadowRoot().innerHTML="<content></content>"}this.installScopeStyle(this._style,"shadow",node.shadowRoot);node._hasShadowStyle=true}var computed=getComputedStyle(node);if(!this.hasPosition&&computed.position==="static"){node.style.position="relative"}node.style.overflow="visible";["top","bottom"].forEach(function(s){var inner=node._paperShadow&&node._paperShadow[s]||document.createElement("div");inner.classList.add("paper-shadow");inner.classList.add("paper-shadow-"+s+"-z-"+this.z);if(this.animated){inner.classList.add("paper-shadow-animated")}if(node.shadowRoot){node.shadowRoot.insertBefore(inner,node.shadowRoot.firstChild)}else{node.insertBefore(inner,node.firstChild)}node._paperShadow=node._paperShadow||{};node._paperShadow[s]=inner}.bind(this))},removeShadow:function(node){if(!node._paperShadow){return}["top","bottom"].forEach(function(s){node._paperShadow[s].remove()});node._paperShadow=null;node.style.position=null}});Polymer("paper-button",{publish:{label:"",raisedButton:{value:false,reflect:true},iconSrc:"",icon:""},z:1,attached:function(){if(this.textContent&&this.textContent.match(/\S+/)){console.warn('Using textContent to label the button is deprecated. Use the "label" property instead');this.label=this.textContent}},activeChanged:function(){this.super();if(this.active){if(!this.lastEvent){var rect=this.getBoundingClientRect();this.lastEvent={x:rect.left+rect.width/2,y:rect.top+rect.height/2}}this.$.ripple.downAction(this.lastEvent)}else{this.$.ripple.upAction()}this.adjustZ()},focusedChanged:function(){this.super();this.adjustZ()},disabledChanged:function(){this.super();this.adjustZ()},insideButton:function(x,y){var rect=this.getBoundingClientRect();return rect.left<=x&&x<=rect.right&&rect.top<=y&&y<=rect.bottom},adjustZ:function(){if(this.focused){this.classList.add("paper-shadow-animate-z-1-z-2")}else{this.classList.remove("paper-shadow-animate-z-1-z-2");if(this.active){this.z=2}else if(this.disabled){this.z=0}else{this.z=1}}},downAction:function(e){this.super(e);this.lastEvent=e},labelChanged:function(){this.setAttribute("aria-label",this.label)}});Polymer("paper-icon-button",{publish:{fill:{value:false,reflect:true}},ready:function(){this.$.ripple.classList.add("recenteringTouch");this.fillChanged()},fillChanged:function(){this.$.ripple.classList.toggle("circle",!this.fill)},iconChanged:function(oldIcon){if(!this.label){this.setAttribute("aria-label",this.icon)}}});Polymer("core-popup-overlay",{publish:{relatedTarget:null,halign:"auto",valign:"auto",margin:12},positionTarget:function(){if(!this.relatedTarget){this.super();return}var top,left,bottom,right;var ref=this.relatedTarget.getBoundingClientRect();if(this.halign==="left"){left=ref.left}else if(this.halign==="right"){right=window.innerWidth-ref.right}else if(this.halign==="auto"){if(ref.left+this.target.offsetWidth>window.innerWidth){right=window.innerWidth-ref.right}else{left=ref.left}}if(this.valign==="top"){bottom=window.innerHeight-ref.bottom}else if(this.valign==="bottom"){top=ref.top}else if(this.valign==="auto"){if(ref.top+this.target.offsetHeight>window.innerHeight&&this.target.offsetHeight<window.innerHeight){bottom=window.innerHeight-ref.bottom}else{top=ref.top}}top!==undefined&&(this.target.style.top=top+"px");left!==undefined&&(this.target.style.left=left+"px");bottom!==undefined&&(this.target.style.bottom=bottom+"px");right!==undefined&&(this.target.style.right=right+"px")},sizeTarget:function(){var rect=this.relatedTarget.getBoundingClientRect();var sizer=this.sizingTarget||this.target;sizer.style.minWidth=rect.width+"px";this.super()}});Polymer("core-popup-menu",{publish:{relatedTarget:null,opened:false,halign:{value:"auto",reflect:true},valign:{value:"auto",reflect:true},transition:null,selected:null,valueattr:"name",selectedClass:"core-selected",selectedProperty:"",selectedAttribute:"active",selectedItem:null,selectedModel:null,selectedIndex:-1},selectAction:function(){this.opened=false}});Polymer("paper-menu-button-transition",{baseClass:"paper-menu-button-transition",revealedClass:"paper-menu-button-revealed",openedClass:"paper-menu-button-opened",closedClass:"paper-menu-button-closed",completeEventName:null,duration:500,setup:function(node){this.super(arguments);var bg=node.querySelector(".paper-menu-button-overlay-bg");bg.style.transformOrigin=this.transformOrigin;bg.style.webkitTransformOrigin=this.transformOrigin},transitionOpened:function(node,opened){this.super(arguments);if(opened){if(this.player){this.player.cancel()}var anims=[];var size=node.getBoundingClientRect();var ink=node.querySelector(".paper-menu-button-overlay-ink");var offset=40/Math.max(size.width,size.height);anims.push(new Animation(ink,[{opacity:.9,transform:"scale(0)"},{opacity:.9,transform:"scale(1)"}],{duration:this.duration*offset}));var bg=node.querySelector(".paper-menu-button-overlay-bg");anims.push(new Animation(bg,[{opacity:.9,transform:"scale("+40/size.width+","+40/size.height+")"},{opacity:1,transform:"scale(0.95, 0.5)"},{opacity:1,transform:"scale(1, 1)"}],{delay:this.duration*offset,duration:this.duration*(1-offset),fill:"forwards"}));var nodes=window.ShadowDOMPolyfill?Platform.queryAllShadows(node.querySelector("core-menu"),"content").getDistributedNodes():node.shadowRoot.querySelector("core-menu::shadow content").getDistributedNodes().array();var items=nodes.filter(function(n){return n.nodeType===Node.ELEMENT_NODE});var itemDelay=offset+(1-offset)/2;var itemDuration=this.duration*(1-itemDelay)/items.length;items.forEach(function(item,i){if(!item.classList.contains("paper-menu-button-overlay-bg")&&!item.classList.contains("paper-menu-button-overlay-ink")){anims.push(new Animation(item,[{opacity:0},{opacity:1}],{delay:this.duration*itemDelay+itemDuration*(i-2),duration:itemDuration,fill:"both"}))}}.bind(this));var group=new AnimationGroup(anims,{easing:"cubic-bezier(0.4, 0, 0.2, 1)"});this.player=document.timeline.play(group);this.player.onfinish=function(){this.fire("core-transitionend",this,node)}.bind(this)}else{this.listenOnce(node,"transitionend",function(){this.fire("core-transitionend",this,node)}.bind(this))}}});Polymer("paper-menu-button",{publish:{opened:false,halign:{value:"auto",reflect:true},valign:{value:"auto",reflect:true}},src:"",icon:"",slow:false,tapAction:function(){if(this.disabled){return}this.super();this.toggle();if(this.opened){this.$.shadow.z=0}},transitionEndAction:function(){this.$.shadow.z=1},toggle:function(){this.opened=!this.opened}});Polymer("recipe-card",{ingredientMode:false,recipeMode:false,ingredientsMatchingSearchValue:[],ready:function(){if(this.searchValue){this.async(this.matchRecipeByTitleAndIngredients,this.searchValue)}},attributeChanged:function(attrName,oldVal,newVal){if(attrName=="hidden"&&this.searchValue){this.async(this.matchRecipeByTitleAndIngredients,this.searchValue)}},searchValueChanged:function(previous,current){if(current&&!this.hidden){this.async(this.matchRecipeByTitleAndIngredients,[current])}else if(!this.hidden){this.ingredientsMatchingSearchValue=[];this.classList.add("recipe-added");this.classList.remove("recipe-removed")}else{this.ingredientsMatchingSearchValue=[]}},courseValueChanged:function(previous,current){this.async(function(){if(current=="All"){this.classList.remove("recipe-removed");this.classList.add("recipe-added")}else if(this.recipe.courses.indexOf(current)===-1){this.classList.add("recipe-removed");this.classList.remove("recipe-added")}else{this.classList.remove("recipe-removed");this.classList.add("recipe-added")}})},recipeTapped:function(event,detail,sender){if(this.recipeMode)this.fire("recipe-tap");else if(this.ingredientMode)this.fire("ingredient-tap")},matchRecipeByTitleAndIngredients:function(searchValue){var matchedTitle=false;if(this.recipe.title.toLowerCase().indexOf(searchValue.toLowerCase())!=-1){this.classList.add("recipe-added");this.classList.remove("recipe-removed");matchedTitle=true}if(this.ingredientMode&&matchedTitle)return;else if(this.ingredientMode&&!matchedTitle){this.classList.remove("recipe-added");this.classList.add("recipe-removed");return}var tempIngredientsArray=[];this.recipe.ingredientsEnumeration.forEach(function(ingredient,index){if(ingredient.toLowerCase().indexOf(searchValue.toLowerCase())!=-1){tempIngredientsArray.push(ingredient)}});this.ingredientsMatchingSearchValue=tempIngredientsArray;if(tempIngredientsArray.length>0){this.classList.add("recipe-added");this.classList.remove("recipe-removed");return}else if(!matchedTitle){this.classList.remove("recipe-added");this.classList.add("recipe-removed")}}});Polymer("page-recipes",{tabs:null,recipeMode:false,ingredientMode:false,searchInput:null,searchValue:null,show:"all",ready:function(){this.tabs=this.$.tabs;this.toolbars=this.$.toolbars;this.searchInput=this.$.searchInput},searchButtonTapped:function(){this.$.searchInput.focusAction()},handleRecipetap:function(event,detail,sender){this.selectedRecipe=sender.recipe.slug;this.fire("recipes-tap",sender.recipe.slug)},handleIngredienttap:function(event,detail,sender){this.selectedRecipe=sender.recipe.slug;this.fire("ingredients-tap",sender.recipe.slug)},back:function(){this.fire("menu-tap")}});Polymer("page-about",{back:function(){this.fire("menu-tap")}});Polymer("core-pages");(function(){var JuicyHTMLPrototype=Object.create((HTMLTemplateElement||HTMLElement).prototype);JuicyHTMLPrototype.loadTemplate_=function(){var val=this.getAttribute("content");if(val&&(val.indexOf("/")===0||val.indexOf("./")===0)){var oReq=new XMLHttpRequest;var that=this;oReq.onload=function(event){that.reattachTemplate_(event.target.responseText)};oReq.open("GET",val,true);oReq.send()}else{this.reattachTemplate_(val)}};JuicyHTMLPrototype.reattachTemplate_=function(html){if(this.subTemplate){this.clear()}else{this.subTemplate=document.createElement("template")}this.subTemplate.setAttribute("bind",this.getAttribute("bind")||"");this.subTemplate.setAttribute("repeat",this.getAttribute("repeat"));this.subTemplate.setAttribute("if",this.getAttribute("if"));this.subTemplate.innerHTML=html;this.parentNode.insertBefore(this.subTemplate,this.nextSibling);if(window.PolymerExpressions){this.subTemplate.bindingDelegate=new PolymerExpressions}this.subTemplate.model=this.model};JuicyHTMLPrototype.clear=function(){return this.subTemplate.clear()&&HTMLTemplateElement.prototype.clear.call(this)};JuicyHTMLPrototype.attachedCallback=function(){var that=this;this.loadTemplate_();var observer=new MutationObserver(function(mutations){mutations.forEach(function(mutation){if(mutation.type==="attributes"&&mutation.attributeName==="content"){that.loadTemplate_()}})});observer.observe(this,{attributes:true});return true};document.register("juicy-html",{prototype:JuicyHTMLPrototype,"extends":"template"})})();var strings=["Lorem ipsum dolor sit amet, per in nusquam nominavi periculis, sit elit oportere ea, id minim maiestatis incorrupte duo. Dolorum verterem ad ius, his et nullam verterem. Eu alia debet usu, an doming tritani est. Vix ad ponderum petentium suavitate, eum eu tempor populo, graece sententiae constituam vim ex. Cu torquatos reprimique neglegentur nec, voluptua periculis has ut, at eos discere deleniti sensibus.","Ut labores minimum atomorum pro. Laudem tibique ut has. No nam ipsum lorem aliquip, accumsan quaerendum ei usu. Maiestatis vituperatoribus qui at, ne suscipit volutpat tractatos nam. Nonumy semper mollis vis an, nam et harum detracto. An pri dolor percipitur, vel maluisset disputationi te.","Fugit adolescens vis et, ei graeci forensibus sed. Denique argumentum comprehensam ei vis, id has facete accommodare, quo scripta utroque id. Autem nullam doming ad eam, te nam dicam iriure periculis. Quem vocent veritus eu vis, nam ut hinc idque feugait.","Convenire definiebas scriptorem eu cum. Sit dolor dicunt consectetuer no, in vix nisl velit, duo ridens abhorreant delicatissimi ut. Pro ei libris omnium scripserit, natum volumus propriae no eam. Suscipit pericula explicari sed ei, te usu iudicabit forensibus efficiantur. Has quot dicam animal id.","Ea duis bonorum nec, falli paulo aliquid ei eum. Cu mei vide viris gloriatur, at populo eripuit sit. Idque molestiae duo ne. Qui id tempor accusamus sadipscing. His odio feugait et. Ne vis vide labitur, eu corpora appareat interpretaris mel.","Usu eu novum principes, vel quodsi aliquip ea. Labore mandamus persequeris id mea, has eripuit neglegentur id, illum noster nec in. Ea nam quod quando cetero, per qualisque tincidunt in. Qui ne meliore commune voluptatibus, qui justo labores no. Et dicat cotidieque eos, vis homero legere et, eam timeam nominavi in. Pri dicam option placerat an, cu qui aliquam adipiscing signiferumque. Vis euismod accusamus no, soluta vocibus ei cum.","Has at minim mucius aliquam, est id tempor laoreet. Ius officiis convenire ex, in vim iuvaret patrioque similique, veritus detraxit sed ad. Mel no admodum abhorreant cotidieque, et duo possim postulant, consul convenire adolescens cu mel. Duo in decore soleat doming. Fabellas interpretaris eos at. No cum unum novum dicit.","Pro saepe pertinax ei, ad pri animal labores suscipiantur. Modus commodo minimum eum te, vero utinam assueverit per eu, zril oportere suscipiantur pri te. Partem percipitur deterruisset ad sea, at eam suas luptatum dissentiunt. No error alienum pro, erant senserit ex mei, pri semper alterum no. Ut habemus menandri vulputate mea. Feugiat verterem ut sed. Dolores maiestatis id per.","Detracto suavitate repudiandae no eum. Id adhuc minim soluta nam, novum denique ad eum. At mucius malorum meliore his, te ferri tritani cum, eu mel legendos ocurreret. His te ludus aperiam malorum, mundi nominati deseruisse pro ne, mel discere intellegat in. Vero dissentiunt quo in, vel cu meis maiestatis adversarium. In sit summo nostrum petentium, ea vix amet nullam minimum, ornatus sensibus theophrastus ex nam.","Iisque perfecto dissentiet cum et, sit ut quot mandamus, ut vim tibique splendide instructior. Id nam odio natum malorum, tibique copiosae expetenda mel ea. Mea melius malorum ut. Ut nec tollit vocent timeam. Facer nonumy numquam id his, munere salutatus consequuntur eum et, eum cotidieque definitionem signiferumque id. Ei oblique graecis patrioque vis, et probatus dignissim inciderint vel. Sed id paulo erroribus, autem semper accusamus in mel."];Polymer("lorem-ipsum",{paragraphs:1,paragraphsChanged:function(){this.innerHTML="";for(var i=0;i<this.paragraphs;i++){this.innerHTML+="<p>"+strings[Math.floor(Math.random()*strings.length)]+"</p>"}}});Polymer("recipe-full",{recipeChanged:function(){this.loadDisqus();var photos=this.$.photos;if(photos)photos.selected=0},photosTapped:function(){var photos=this.$.photos;photos.selected=photos.selected+2>this.recipe.photos.length?0:photos.selected+1},back:function(){this.fire("back-tap")},handleRecipetap:function(event,detail,sender){this.selectedRecipe=sender.recipe.slug;this.fire("recipes-tap",sender.recipe.slug)},loadDisqus:function(){var self=this;return;console.log("loading disqus");var disqus_shortname="ginalioti";(function(){var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;dsq.src="http://"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq)})();return;(function(){var articleId=fyre.conv.load.makeArticleId(null);fyre.conv.load({},[{el:self.$.livefyrecomments,network:"livefyre.com",siteId:"363138",articleId:articleId,signed:false,collectionMeta:{articleId:articleId,url:fyre.conv.load.makeCollectionUrl()}}],function(){})})()}});Polymer("ginalioti-app",{minSplashTime:0,selected:"splash",connected:false,readyTime:0,routes:[{title:" | Gina Lioti",slug:"/:recipe",page:"recipe"},{title:"Ingredients | Gina Lioti",slug:"/ingredients",page:"ingredients"},{title:"About | Gina Lioti",slug:"/about",page:"about"},{title:" | Gina Lioti",slug:"/ingredient",page:"ingredient"},{title:"Recipes | Gina Lioti",slug:"/",page:"recipes"}],ready:function(){CoreStyle.g.paperInput.focusedColor="#FBB040";CoreStyle.g.paperInput.Color="#FFFFFF";this.selectedRecipe={};this.selectedIngredient={};this.relatedRecipes=[];this.combineWithRecipes=[];this.relatedIngredientRecipes=[];this.appStarted={};this.router=this.$.router;this.drawerPanel=this.$.drawerPanel;this.pages=this.$.pages;this.logService=this.$.logService;this.log("initialized ... waiting for datasource");this.readyTime=Date.now()},connectedChanged:function(previous,current){this.log("received data from datasource successfully");this.startup()},updatedDataChanged:function(previous,current){this.log("updatedDataChanged");if(this.selected=="recipe"&&(typeof this.selectedRecipe=="undefined"||typeof this.selectedRecipe.title=="undefined")){this.log("need to populate the visible recipe");this.selectedChanged("","recipe")}},startup:function(){var elapsed=Date.now()-this.readyTime;var t=this.minSplashTime-elapsed;this.async("completeStartup",null,t>0?t:0)},completeStartup:function(){this.log("ready!");console.timeEnd("Startup time");console.groupEnd();this.appReady=true;this.router.init()},selectedChanged:function(previous,current){this.log("animating from _"+previous+"_ page to _"+current+"_");if(current=="recipe"&&typeof this.selectedRecipe.title=="undefined"){this.log("updating selectedRecipe");this.selectedRecipe=_.find(this.recipes,function(recipe){return recipe.slug==this.urlArguments.recipe}.bind(this))}},handleRecipetap:function(event,recipeSlug,sender){this.log("recipe tap");if(recipeSlug!=this.selectedRecipe.slug){this.selectedRecipe=_.find(this.recipes,function(recipe){return recipe.slug==recipeSlug});var _this=this;_this.combineWithRecipes=[];_.each(this.selectedRecipe.relatedRecipes.combine,function(recipeSlug){_this.combineWithRecipes=_this.combineWithRecipes.concat(_.filter(_this.recipes,function(recipe){return recipe.slug==recipeSlug}))})}this.router.routePage("recipe",this.selectedRecipe)},handleIngredienttap:function(event,ingredientSlug,sender){if(ingredientSlug!=this.selectedIngredient.slug){this.selectedIngredient=_.find(this.ingredients,function(ingredient){return ingredient.slug==ingredientSlug});this.relatedIngredientRecipes=[];var _this=this;_.each(this.selectedIngredient.relatedRecipes,function(recipeSlug){_this.relatedIngredientRecipes=_this.relatedIngredientRecipes.concat(_.filter(_this.recipes,function(recipe){return recipe.slug==recipeSlug}))})}this.router.routePage("ingredient")},back:function(){this.router.routePage("recipes")},toggleMenu:function(){this.$.drawerPanel.togglePanel()},toggleDrawer:function(){this.$.drawerPanel.togglePanel()},hideDrawer:function(){this.$.drawerPanel.closeDrawer()},log:function(message){if(this.config.debug===true&&this.logService){this.logService.log(message)}}});console.time("Startup time");console.group("App starup");